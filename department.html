<script src="/admin/assets/scripts/dept.js"></script>
<div onload="loadft()">
	<section class="content-header"><br/> <br/>

		<h1>
			Department
			<!--<small>preview of simple tables</small>-->
		</h1> <br/>

	</section>

	<div class="col-md-6">
		<div class="box box-primary">
			<div class="box-header">
				<h3 class="box-title" id="dept-form-title">Add Department</h3>
			</div>
			<div class="box-body">
				<form id="add-dept" method="post">
					<div class="form-group">
						<label>Hotel Code</label>
						<input type="text" class="form-control" name="hotelCode" id="hotelCode" autocomplete="off"
							   readonly="readonly" placeholder="Hotel Code">
					</div>
					<div class="form-group">
						<label>Front-Desk</label>
						<input type="checkbox" class="flat-red" name="isFrontDesk" id="isFrontDesk"
							   onclick="checkType()">
					</div>
					<div class="form-group">
						<label>Department Name*</label>
						<input type="text" class="form-control" placeholder="Enter Department Name" name="deptName"
							   id="deptName" style="text-transform:uppercase">
					</div>
					<div class="form-group">
						<label>Department Description*</label>
						<textarea class="form-control" placeholder="Enter Department Description" rows="3"
								  name="deptDesc" id="deptDesc"></textarea>
					</div>
					<div class="box-footer">
						<input type="hidden" id="baseurl" name="baseurl" value="/">
						<button type="submit" id="saveDept" class="btn btn-primary">
							Add
						</button>
					</div>
				</form>
				<form id="update-dept" method="post" style="display:none;">
					<div class="form-group">
						<label>Hotel Code</label>
						<input type="text" class="form-control" name="updateHotelCode" id="updateHotelCode" autocomplete="off"
							   readonly="readonly" placeholder="Hotel Code">
						<input type="hidden" class="form-control" name="updateDeptId" id="updateDeptId" autocomplete="off"
							   placeholder="Department Id">
					</div>
					<!-- <div class="form-group">
						<label>Front-Desk</label>
						<input type="checkbox" class="flat-red" name="updateIsFrontDesk" id="updateIsFrontDesk"
							   onclick="checkType()">
					</div> -->
					<div class="form-group">
						<label>Department Name*</label>
						<input type="text" class="form-control" placeholder="Enter Department Name" name="updateDeptName"
							   id="updateDeptName" style="text-transform:uppercase">
					</div>
					<div class="form-group">
						<label>Department Description*</label>
						<textarea class="form-control" placeholder="Enter Department Description" rows="3"
								  name="updateDeptDesc" id="updateDeptDesc"></textarea>
					</div>
					<div class="box-footer">
						<input type="hidden" id="baseurl" name="baseurl" value="/">
						<button type="submit" id="updateDept" class="btn btn-primary">
							Update
						</button>
					</div>
				</form>
			</div>
			<!-- /.box-body -->
		</div>
	</div>

	<div class="col-md-6">
		<div class="box">
			<div class="box-header">
				<h3 class="box-title">Department List</h3>
			</div>
			<!-- /.box-header -->
			<div class="box-body" id="display_depts">

			</div>
			<!-- /.box-body -->
		</div>
	</div>
</div>
<!--<script src="/admin/assets/scripts/staff.js"></script>
<script src="/admin/assets/scripts/dept.js"></script>-->
<script type="text/javascript">
	//	(function ($) {
	toastr.options = {
		"closeButton": true,
		"debug": false,
		"newestOnTop": false,
		"progressBar": false,
		"positionClass": "toast-bottom-right",
		"preventDuplicates": false,
		"onclick": null,
		"showDuration": "300",
		"hideDuration": "1000",
		"timeOut": "2000",
		"extendedTimeOut": "1000",
		"showEasing": "swing",
		"hideEasing": "linear",
		"showMethod": "fadeIn",
		"hideMethod": "fadeOut"
	};

	$('#sign_out_link').click(function () {
		document.getElementById("signout-dropdown-menu").style.display = "block";
		$('.dropdown-toggle').dropdown();
	});

	$(document).click(function () {
		$("#signout-dropdown-menu").hide();
	});

	$("#signout-dropdown-menu").click(function (e) {
		e.stopPropagation();
	});


	$('#add-dept').validate({
		errorElement: 'span',
		rules: {
			deptName: {
				required: true,
				noSpace: true,
				alphanumericWithSpace: true
			},
			deptDesc: {
				maxlength: 200,
				required: true,
				noSpace: true,
				alphanumericWithSpace: true
			}
		},
		messages: {
			deptName: {
				required: "Required !"
			},
			deptDesc: {
				required: "Required !",
				maxlength: "Description too long!",
			}
		},
		submitHandler: function (form) {
			addDept();
		}
	});
	$('#update-dept').validate({
		errorElement: 'span',
		rules: {
			updateDeptName: {
				required: true,
				noSpace: true
			},
			updateDeptDesc: {
				maxlength: 200,
				required: true,
				noSpace: true
			}
		},
		messages: {
			updateDeptName: "Required !",
			updateDeptDesc: {
				required: "Required !",
				maxlength: "Description too long!",
			}
		},
		submitHandler: function (form) {
			updateDept();
		}
	});
	//})(jQuery);
</script>
<script src="/admin/assets/scripts/dept.js"></script>
